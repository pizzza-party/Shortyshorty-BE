org: mackerel
app: shortyshorty
service: lambda
frameworkVersion: '3'
provider:
  name: aws
  stage: v1
  region: us-east-1
  runtime: nodejs18.x
package:
  patterns:
    - '!**' # 전체 제외
    - 'dist/**' # build된 파일만 추가
    - 'node_modules/**' # module 추가

functions:
  shortUrlConverter:
    handler: dist/handler.shortUrlConverter
    events:
      - http:
          path: /
          method: post
  redirectionToOrigin:
    handler: dist/handler.redirectionToOrigin
    events:
      - http:
          path: /{shortUrl}
          method: get
